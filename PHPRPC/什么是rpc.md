# RPC一般指远程过程调用协议

    RPC（Remote Procedure Call）—远程过程调用
        1. 它是一种通过网络从远程计算机程序上请求服务，而不需要了解底层网络技术的协议。
        2. RPC协议假定某些传输协议的存在，如TCP或UDP，为通信程序之间携带信息数据。
        3. 在OSI网络通信模型中，RPC跨越了传输层和应用层。
        4. RPC使得开发包括网络分布式多程序在内的应用程序更加容易。

<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->
<!-- code_chunk_output -->

* [RPC一般指远程过程调用协议](#rpc一般指远程过程调用协议)
	* [工作原理](#工作原理)

<!-- /code_chunk_output -->

RPC采用**客户机**/**服务器**模式。请求程序就是一个客户机，而服务提供程序就是一个服务器。

首先，客户机调用进程发送一个有进程参数的调用信息到服务进程，然后等待应答信息。
在服务器端，进程保持睡眠状态直到调用信息到达为止。
当一个调用信息到达，服务器获得进程参数，计算结果，发送答复信息，然后等待下一个调用信息，最后，客户端调用进程接收答复信息，获得进程结果，然后调用执行继续进行。


## 工作原理
运行时,一次客户机对服务器的RPC调用,其内部操作大致有如下十步：

1. 调用客户端句柄；执行传送参数
1. 调用本地系统内核发送网络消息
1. 消息传送到远程主机
1. 服务器句柄得到消息并取得参数
1. 执行远程过程
1. 执行的过程将结果返回服务器句柄
1. 服务器句柄返回结果，调用远程系统内核
1. 消息传回本地主机
1. 客户句柄由内核接收消息
1. 客户接收句柄返回的数据
